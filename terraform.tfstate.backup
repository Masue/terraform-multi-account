{
    "version": 1,
    "serial": 26,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_eip.blogpost_nat_eip": {
                    "type": "aws_eip",
                    "depends_on": [
                        "aws_instance.blogpost_nat"
                    ],
                    "primary": {
                        "id": "eipalloc-d95981b0",
                        "attributes": {
                            "association_id": "eipassoc-042c276d",
                            "domain": "vpc",
                            "id": "eipalloc-d95981b0",
                            "instance": "i-dda40360",
                            "network_interface": "eni-1beb6670",
                            "private_ip": "10.1.0.68",
                            "public_ip": "52.28.78.136",
                            "vpc": "true"
                        }
                    }
                },
                "aws_instance.blogpost_app_instance1": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.blogpost_app_sg",
                        "aws_subnet.blogpost_main_private_subnet1"
                    ],
                    "primary": {
                        "id": "i-b8811e04",
                        "attributes": {
                            "ami": "ami-0b322e67",
                            "availability_zone": "eu-central-1b",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-b8811e04",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "key_name": "",
                            "monitoring": "false",
                            "private_dns": "ip-10-1-1-57.eu-central-1.compute.internal",
                            "private_ip": "10.1.1.57",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "standard",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-bc5616c7",
                            "tags.#": "1",
                            "tags.Name": "APP1",
                            "tenancy": "default",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3321464068": "sg-d68a90bf"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_instance.blogpost_app_instance2": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.blogpost_app_sg",
                        "aws_subnet.blogpost_main_private_subnet2"
                    ],
                    "primary": {
                        "id": "i-bc801f00",
                        "attributes": {
                            "ami": "ami-e2df388d",
                            "availability_zone": "eu-central-1b",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-bc801f00",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "key_name": "",
                            "monitoring": "false",
                            "private_dns": "ip-10-1-2-146.eu-central-1.compute.internal",
                            "private_ip": "10.1.2.146",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "24",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-bd5616c6",
                            "tags.#": "1",
                            "tags.Name": "APP2",
                            "tenancy": "default",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3321464068": "sg-d68a90bf"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_instance.blogpost_linked_instance1": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.blogpost_link_sg",
                        "aws_subnet.blogpost_linked_public_subnet"
                    ],
                    "primary": {
                        "id": "i-3d811e81",
                        "attributes": {
                            "ami": "ami-0b322e67",
                            "availability_zone": "eu-central-1b",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-3d811e81",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "key_name": "",
                            "monitoring": "false",
                            "private_dns": "ip-10-1-154-75.eu-central-1.compute.internal",
                            "private_ip": "10.1.154.75",
                            "public_dns": "",
                            "public_ip": "54.93.156.39",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "standard",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-885616f3",
                            "tags.#": "1",
                            "tags.Name": "Blog link instance 1",
                            "tenancy": "default",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3730429522": "sg-3b899352"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    },
                    "provider": "aws.link"
                },
                "aws_instance.blogpost_nat": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.blogpost_nat_sg",
                        "aws_subnet.blogpost_public_subnet"
                    ],
                    "primary": {
                        "id": "i-dda40360",
                        "attributes": {
                            "ami": "ami-0b322e67",
                            "availability_zone": "eu-central-1a",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-dda40360",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "key_name": "",
                            "monitoring": "false",
                            "private_dns": "ip-10-1-0-68.eu-central-1.compute.internal",
                            "private_ip": "10.1.0.68",
                            "public_dns": "",
                            "public_ip": "52.28.78.136",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "standard",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-65f0dd0c",
                            "tags.#": "1",
                            "tags.Name": "NAT",
                            "tenancy": "default",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.4203208458": "sg-d78a90be"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_internet_gateway.blogpost_igw": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.blogpost_vpc"
                    ],
                    "primary": {
                        "id": "igw-00169169",
                        "attributes": {
                            "id": "igw-00169169",
                            "tags.#": "1",
                            "tags.Name": "blog-igw",
                            "vpc_id": "vpc-00206b69"
                        }
                    }
                },
                "aws_route_table.blog_private_route": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_instance.blogpost_nat",
                        "aws_vpc.blogpost_vpc"
                    ],
                    "primary": {
                        "id": "rtb-feb89d97",
                        "attributes": {
                            "id": "rtb-feb89d97",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.1738904472.cidr_block": "0.0.0.0/0",
                            "route.1738904472.gateway_id": "",
                            "route.1738904472.instance_id": "i-dda40360",
                            "route.1738904472.nat_gateway_id": "",
                            "route.1738904472.network_interface_id": "eni-1beb6670",
                            "route.1738904472.vpc_peering_connection_id": "",
                            "tags.#": "1",
                            "tags.Name": "pub route private subnet",
                            "vpc_id": "vpc-00206b69"
                        }
                    }
                },
                "aws_route_table.blog_public_route": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_internet_gateway.blogpost_igw",
                        "aws_vpc.blogpost_vpc"
                    ],
                    "primary": {
                        "id": "rtb-e3b89d8a",
                        "attributes": {
                            "id": "rtb-e3b89d8a",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.3153016094.cidr_block": "0.0.0.0/0",
                            "route.3153016094.gateway_id": "igw-00169169",
                            "route.3153016094.instance_id": "",
                            "route.3153016094.nat_gateway_id": "",
                            "route.3153016094.network_interface_id": "",
                            "route.3153016094.vpc_peering_connection_id": "",
                            "tags.#": "1",
                            "tags.Name": "pub route nat",
                            "vpc_id": "vpc-00206b69"
                        }
                    }
                },
                "aws_route_table_association.blogpost_assoc_priv1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.blog_private_route",
                        "aws_subnet.blogpost_main_private_subnet1"
                    ],
                    "primary": {
                        "id": "rtbassoc-7a2b2213",
                        "attributes": {
                            "id": "rtbassoc-7a2b2213",
                            "route_table_id": "rtb-feb89d97",
                            "subnet_id": "subnet-bc5616c7"
                        }
                    }
                },
                "aws_route_table_association.blogpost_assoc_priv2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.blog_private_route",
                        "aws_subnet.blogpost_main_private_subnet2"
                    ],
                    "primary": {
                        "id": "rtbassoc-7d2b2214",
                        "attributes": {
                            "id": "rtbassoc-7d2b2214",
                            "route_table_id": "rtb-feb89d97",
                            "subnet_id": "subnet-bd5616c6"
                        }
                    }
                },
                "aws_route_table_association.blogpost_assoc_pub": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.blog_public_route",
                        "aws_subnet.blogpost_public_subnet"
                    ],
                    "primary": {
                        "id": "rtbassoc-6a2b2203",
                        "attributes": {
                            "id": "rtbassoc-6a2b2203",
                            "route_table_id": "rtb-e3b89d8a",
                            "subnet_id": "subnet-65f0dd0c"
                        }
                    }
                },
                "aws_security_group.blogpost_app_sg": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.blogpost_nat_sg",
                        "aws_vpc.blogpost_vpc"
                    ],
                    "primary": {
                        "id": "sg-d68a90bf",
                        "attributes": {
                            "description": "Managed by Terraform",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-d68a90bf",
                            "ingress.#": "2",
                            "ingress.2541437006.cidr_blocks.#": "1",
                            "ingress.2541437006.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2541437006.from_port": "22",
                            "ingress.2541437006.protocol": "tcp",
                            "ingress.2541437006.security_groups.#": "0",
                            "ingress.2541437006.self": "false",
                            "ingress.2541437006.to_port": "22",
                            "ingress.2622171766.cidr_blocks.#": "0",
                            "ingress.2622171766.from_port": "80",
                            "ingress.2622171766.protocol": "tcp",
                            "ingress.2622171766.security_groups.#": "1",
                            "ingress.2622171766.security_groups.4203208458": "sg-d78a90be",
                            "ingress.2622171766.self": "false",
                            "ingress.2622171766.to_port": "80",
                            "name": "blogpost_app_sg",
                            "owner_id": "034797910783",
                            "tags.#": "0",
                            "vpc_id": "vpc-00206b69"
                        }
                    }
                },
                "aws_security_group.blogpost_link_sg": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_eip.blogpost_nat_eip",
                        "aws_vpc.blogpost_linked_vpc"
                    ],
                    "primary": {
                        "id": "sg-3b899352",
                        "attributes": {
                            "description": "Managed by Terraform",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-3b899352",
                            "ingress.#": "2",
                            "ingress.1597621618.cidr_blocks.#": "1",
                            "ingress.1597621618.cidr_blocks.0": "52.28.78.136/32",
                            "ingress.1597621618.from_port": "22",
                            "ingress.1597621618.protocol": "tcp",
                            "ingress.1597621618.security_groups.#": "0",
                            "ingress.1597621618.self": "false",
                            "ingress.1597621618.to_port": "22",
                            "ingress.4070547521.cidr_blocks.#": "1",
                            "ingress.4070547521.cidr_blocks.0": "52.28.78.136/32",
                            "ingress.4070547521.from_port": "80",
                            "ingress.4070547521.protocol": "tcp",
                            "ingress.4070547521.security_groups.#": "0",
                            "ingress.4070547521.self": "false",
                            "ingress.4070547521.to_port": "80",
                            "name": "blogpost_link_sg",
                            "owner_id": "362244887265",
                            "tags.#": "0",
                            "vpc_id": "vpc-03206b6a"
                        }
                    },
                    "provider": "aws.link"
                },
                "aws_security_group.blogpost_nat_sg": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_subnet.blogpost_main_private_subnet1",
                        "aws_subnet.blogpost_main_private_subnet2",
                        "aws_vpc.blogpost_vpc"
                    ],
                    "primary": {
                        "id": "sg-d78a90be",
                        "attributes": {
                            "description": "Managed by Terraform",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-d78a90be",
                            "ingress.#": "3",
                            "ingress.2266137563.cidr_blocks.#": "1",
                            "ingress.2266137563.cidr_blocks.0": "10.1.2.0/24",
                            "ingress.2266137563.from_port": "22",
                            "ingress.2266137563.protocol": "tcp",
                            "ingress.2266137563.security_groups.#": "0",
                            "ingress.2266137563.self": "false",
                            "ingress.2266137563.to_port": "22",
                            "ingress.3069876550.cidr_blocks.#": "1",
                            "ingress.3069876550.cidr_blocks.0": "10.1.1.0/24",
                            "ingress.3069876550.from_port": "22",
                            "ingress.3069876550.protocol": "tcp",
                            "ingress.3069876550.security_groups.#": "0",
                            "ingress.3069876550.self": "false",
                            "ingress.3069876550.to_port": "22",
                            "ingress.7390451.cidr_blocks.#": "1",
                            "ingress.7390451.cidr_blocks.0": "10.1.1.0/24",
                            "ingress.7390451.from_port": "80",
                            "ingress.7390451.protocol": "tcp",
                            "ingress.7390451.security_groups.#": "0",
                            "ingress.7390451.self": "false",
                            "ingress.7390451.to_port": "80",
                            "name": "blogpost_nat_sg",
                            "owner_id": "034797910783",
                            "tags.#": "0",
                            "vpc_id": "vpc-00206b69"
                        }
                    }
                },
                "aws_subnet.blogpost_linked_public_subnet": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.blogpost_linked_vpc",
                        "aws_vpc.blogpost_linked_vpc"
                    ],
                    "primary": {
                        "id": "subnet-885616f3",
                        "attributes": {
                            "availability_zone": "eu-central-1b",
                            "cidr_block": "10.1.0.0/16",
                            "id": "subnet-885616f3",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "0",
                            "vpc_id": "vpc-03206b6a"
                        }
                    },
                    "provider": "aws.link"
                },
                "aws_subnet.blogpost_main_private_subnet1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.blogpost_vpc"
                    ],
                    "primary": {
                        "id": "subnet-bc5616c7",
                        "attributes": {
                            "availability_zone": "eu-central-1b",
                            "cidr_block": "10.1.1.0/24",
                            "id": "subnet-bc5616c7",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "0",
                            "vpc_id": "vpc-00206b69"
                        }
                    }
                },
                "aws_subnet.blogpost_main_private_subnet2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.blogpost_vpc"
                    ],
                    "primary": {
                        "id": "subnet-bd5616c6",
                        "attributes": {
                            "availability_zone": "eu-central-1b",
                            "cidr_block": "10.1.2.0/24",
                            "id": "subnet-bd5616c6",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "0",
                            "vpc_id": "vpc-00206b69"
                        }
                    }
                },
                "aws_subnet.blogpost_public_subnet": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.blogpost_vpc"
                    ],
                    "primary": {
                        "id": "subnet-65f0dd0c",
                        "attributes": {
                            "availability_zone": "eu-central-1a",
                            "cidr_block": "10.1.0.0/24",
                            "id": "subnet-65f0dd0c",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "0",
                            "vpc_id": "vpc-00206b69"
                        }
                    }
                },
                "aws_vpc.blogpost_linked_vpc": {
                    "type": "aws_vpc",
                    "primary": {
                        "id": "vpc-03206b6a",
                        "attributes": {
                            "cidr_block": "10.1.0.0/16",
                            "default_network_acl_id": "acl-a6bce4cf",
                            "default_security_group_id": "sg-d58a90bc",
                            "dhcp_options_id": "dopt-28d23541",
                            "id": "vpc-03206b6a",
                            "main_route_table_id": "rtb-e1b89d88",
                            "tags.#": "1",
                            "tags.Name": "blog"
                        }
                    },
                    "provider": "aws.link"
                },
                "aws_vpc.blogpost_vpc": {
                    "type": "aws_vpc",
                    "primary": {
                        "id": "vpc-00206b69",
                        "attributes": {
                            "cidr_block": "10.1.0.0/16",
                            "default_network_acl_id": "acl-b9bce4d0",
                            "default_security_group_id": "sg-d48a90bd",
                            "dhcp_options_id": "dopt-d6cf27bf",
                            "id": "vpc-00206b69",
                            "main_route_table_id": "rtb-e0b89d89",
                            "tags.#": "1",
                            "tags.Name": "blog"
                        }
                    }
                }
            }
        }
    ]
}
